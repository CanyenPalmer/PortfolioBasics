/* Mobile-only fixes (≤768px). Desktop/laptop remain untouched. */
@media (max-width: 768px) {

  /* =========================================================
     HERO (id="home")
     Order on phones:
     Nav → Title/Details → Image (last)
     ========================================================= */

  /* Leave a little space for the sticky toolbar above */
  #home { padding-top: 3.25rem; }

  /* Ensure the hero nav sits above content and wraps nicely */
  #home > nav {
    position: static !important;
    width: 100% !important;
    margin: 0 0 .75rem 0 !important;
  }
  #home nav ul { flex-wrap: wrap; gap: .5rem .75rem; }

  /* Collapse the hero grid to a single column and stack cleanly */
  #home .container .grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    align-items: start !important;
  }

  /* The text block (class "space-y-5" in your hero) should come first */
  #home .container .grid > .space-y-5 { order: 1 !important; }

  /* Any non-text sibling inside the hero grid (the image/media) comes last */
  #home .container .grid > :not(.space-y-5) { order: 5 !important; }

  /* Make only hero CTAs full-width (no global button changes) */
  #home a.inline-flex, #home a[role="button"], #home .btn, #home button {
    width: 100%; min-height: 44px; justify-content: center;
  }

  /* =========================================================
     ABOUT (id="about")
     - Guarantee visibility
     - Image ABOVE details
     - Single-column stack
     ========================================================= */

  #about { overflow: visible !important; height: auto !important; }

  /* The main about grid becomes one column */
  #about .grid.items-center {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    align-items: start !important;
  }

  /* If present, keep image wrapper predictable and on top */
  #about .grid.items-center > [aria-label="About images"] { order: 1 !important; }
  #about .grid.items-center > div:not([aria-label="About images"]) { order: 2 !important; }
  [aria-label="About images"] { height: min(60vh, 560px) !important; }
  [aria-label="About images"] .absolute { inset: 0 !important; }

  /* =========================================================
     EXPERIENCE (data-section="experience")
     - Visible before/after entering the section
     - Cards stacked vertically (no side slide-in)
     - Expanded content fully readable (no clipping)
     ========================================================= */

  /* Neutralize scroll-lock/stage geometry & transforms on phones */
  [data-section="experience"] [class*="lockWindow"],
  [data-section="experience"] [class*="stageHolder"],
  [data-section="experience"] [class*="stageFlow"],
  [data-section="experience"] [class*="stageFixed"],
  [data-section="experience"] [class*="stack"] {
    position: relative !important;
    top: auto !important;
    height: auto !important;
    width: 100% !important;
    transform: none !important;
  }

  /* Cards: vertical list, full width, no animations */
  [data-section="experience"] [class*="card"] {
    position: static !important;
    inset: auto !important;
    width: 100% !important;
    max-width: none !important;
    margin: 0 0 1rem 0 !important;
    transform: none !important;
    opacity: 1 !important;
    transition: none !important;
    background: rgba(13,19,29,0.96) !important; /* prevent see-through on phones */
    backdrop-filter: none !important;
    cursor: auto !important;
  }

  /* Ensure expanded content is not clipped */
  [data-section="experience"] [class*="card"] *[class*="content"],
  [data-section="experience"] [class*="card"] *[class*="details"],
  [data-section="experience"] [class*="card"] *[class*="body"],
  [data-section="experience"] [class*="card"] *[class*="inner"] {
    max-height: none !important;
    overflow: visible !important;
  }

  /* Metrics grid inside cards → one column */
  [data-section="experience"] [class*="metricsGrid"] { grid-template-columns: 1fr !important; }

  /* Keep the progress/subheader visible but simple */
  [data-section="experience"] [class*="subheaderSticky"] {
    position: sticky !important;
    top: 0 !important;
    z-index: 50 !important;
    opacity: 1 !important;
    background: linear-gradient(to bottom, rgba(11,16,22,0.95), rgba(11,16,22,0)) !important;
  }

  /* =========================================================
     CONTACT (id="contact")
     - Bring the 3-line footer closer to your bottom detail line
     ========================================================= */

  /* Nudge the echo layers upward a bit (closer to the details block) */
  #contact .echo-mid { bottom: 4em !important; }
  #contact .echo-top { bottom: 6em !important; }

  /* Trim bottom padding of the section slightly */
  #contact { padding-bottom: .5rem !important; }
}

