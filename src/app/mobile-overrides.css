/* Mobile-only fixes (≤768px). Desktop/laptop remain untouched. */
@media (max-width: 768px) {

  /* ========= HERO (#home) =========
     Keep desktop feel; just stack and move image last, avoid overlap
  ----------------------------------*/
  #home { position: relative; z-index: 0; padding-top: 3.5rem; padding-bottom: 1rem; }
  #home > nav {
    position: static !important; inset: auto !important; width: 100% !important;
    margin: 0 0 .75rem 0 !important; text-align: center; z-index: 1 !important;
  }
  #home nav ul { flex-wrap: wrap; justify-content: center; row-gap: .5rem; column-gap: .75rem; }

  #home .container .grid {
    display: grid !important; grid-template-columns: 1fr !important;
    gap: 1rem !important; align-items: start !important;
  }
  /* Text block first (your copy wrapper uses .space-y-5) */
  #home .container .grid > .space-y-5 { order: 1 !important; }
  /* Avatar/media last */
  #home .container .grid > :not(.space-y-5) { order: 2 !important; }

  /* Stack any inline flex rows (CTAs) */
  #home .space-y-5 [class*="flex"] { flex-direction: column !important; gap: .75rem !important; }
  #home a.inline-flex, #home a[role="button"], #home .btn, #home button { width: 100%; min-height: 44px; justify-content: center; }

  /* ========= EXPERIENCE ([data-section="experience"]) =========
     Remove duplicates; stack cards; show full expanded bodies
  --------------------------------------------------------------*/
  /* Show flowing deck only; hide locked deck to avoid double render */
  [data-section="experience"] [class*="stageFlow"]  { display: block !important; opacity: 1 !important; visibility: visible !important; }
  [data-section="experience"] [class*="stageFixed"] { display: none !important; }

  /* Kill giant lock height & any sticky bars that can trap scroll on phones */
  [data-section="experience"] [class*="lockWindow"] { height: auto !important; }
  [data-section="experience"] [class*="subheaderSticky"] { position: relative !important; top: auto !important; }

  /* Neutralize deck geometry so content just flows in normal document order */
  [data-section="experience"] [class*="stageHolder"],
  [data-section="experience"] [class*="stack"] {
    position: static !important; height: auto !important; width: 100% !important; transform: none !important; overflow: visible !important;
  }

  /* Cards: full-width, stacked once; keep card’s internal animations, not deck slides */
  [data-section="experience"] [class*="card"] {
    position: static !important; inset: auto !important; width: 100% !important; max-width: none !important;
    margin: 0 0 1rem 0 !important; transform: none !important; opacity: 1 !important; transition: none !important;
    overflow: visible !important; background: rgba(13,19,29,0.98) !important; backdrop-filter: none !important; z-index: 0 !important;
  }

  /* Expanded sections should never clip on phones */
  [data-section="experience"] [class*="card"] *[class*="details"],
  [data-section="experience"] [class*="card"] *[class*="content"],
  [data-section="experience"] [class*="card"] *[class*="body"],
  [data-section="experience"] [class*="card"] *[class*="inner"],
  [data-section="experience"] [class*="card"] *[style*="max-height"] {
    max-height: none !important; overflow: visible !important;
  }

  /* Metric tiles grid → one column on phones */
  [data-section="experience"] [class*="metricsGrid"] { grid-template-columns: 1fr !important; }

  /* ========= TESTIMONIALS (#testimonials) =========
     Details (text) first, image directly below
  -----------------------------------------------*/
  /* Keep it surgical: only reshape the top-level two-column wrapper inside each card */
  #testimonials [class*="card"] { display: grid !important; grid-template-columns: 1fr !important; align-items: start !important; gap: .75rem !important; }

  /* Put any direct child that contains an <img> under the details block */
  #testimonials [class*="card"] > *:has(img) { order: 2 !important; }
  #testimonials [class*="card"] > :not(:has(img)) { order: 1 !important; }

  /* Make testimonial images scale cleanly under the copy */
  #testimonials img { width: 100%; height: auto; display: block; }

  /* ========= SAFETY GUARDS ========= */
  /* Prevent sideways nudges on small screens */
  html, body { overflow-x: hidden; }
}








