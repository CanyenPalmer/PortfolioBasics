/* Mobile-only fixes (≤768px). Desktop/laptop remain untouched. */
@media (max-width: 768px) {

  /* ============ HERO (#home) ============ */
  /* Make the toolbar (nav) a horizontal, swipeable rail on phones */
  #home > nav {
    position: static !important;      /* full-width bar on mobile */
    width: 100% !important;
    margin: 0 0 .5rem 0 !important;
    z-index: 1 !important;
  }
  #home nav ul {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;      /* keep horizontal, no wrapping */
    overflow-x: auto !important;       /* horizontal scroll */
    overflow-y: hidden !important;
    -webkit-overflow-scrolling: touch; /* smooth iOS scrolling */
    gap: .75rem !important;
    padding: .25rem .5rem !important;  /* small gutters for swipe */
    white-space: nowrap !important;
  }
  #home nav li { flex: 0 0 auto !important; } /* keep items inline */
  #home nav a { display: inline-flex !important; align-items: center; }

  /* Keep hero layout like desktop, but ensure image comes last on phones */
  #home .container .grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    align-items: start !important;
  }
  /* Your copy wrapper is .space-y-5 — keep it first */
  #home .container .grid > .space-y-5 { order: 1 !important; }
  /* The media/avatar block (figure or a child that contains an <img>) goes last */
  #home .container .grid > figure,
  #home .container .grid > :has(img) { order: 2 !important; }

  /* Keep hero CTAs readable without forcing vertical nav */
  #home .space-y-5 [class*="flex"] { row-gap: .5rem !important; }
  #home a.inline-flex, #home a[role="button"], #home .btn, #home button {
    min-height: 44px; justify-content: center;
  }

  /* Add a little bottom padding so nothing overlaps next section */
  #home { padding-bottom: 1rem; position: relative; z-index: 0; }
  #home .container { position: relative; z-index: 1; }

  /* ============ EXPERIENCE ([data-section="experience"]) ============ */
  /* Do NOT kill card animations; just prevent clipping of expanded bodies */
  [data-section="experience"] .card {
    position: relative !important;
    width: 100% !important;
    max-width: none !important;
    overflow: visible !important;          /* allow children to show */
    background: rgba(13,19,29,0.98) !important;
    backdrop-filter: none !important;
  }

  /* Any “wrapper/body/details/inner/content” regions: no hidden max-heights */
  [data-section="experience"] .card *[class*="details"],
  [data-section="experience"] .card *[class*="body"],
  [data-section="experience"] .card *[class*="inner"],
  [data-section="experience"] .card *[class*="content"],
  [data-section="experience"] .card *[style*="max-height"] {
    max-height: none !important;
    height: auto !important;
    overflow: visible !important;
    clip-path: none !important;
    -webkit-mask-image: none !important;
            mask-image: none !important;
  }

  /* If any expanded sections position absolute, make them participate in flow */
  [data-section="experience"] .card [style*="position: absolute"] {
    position: static !important;
  }

  /* Metric tiles inside cards → one column on phones */
  [data-section="experience"] .metricsGrid { grid-template-columns: 1fr !important; }

  /* Deck geometry: allow the flowing stack to render, avoid scroll traps */
  [data-section="experience"] .lockWindow { height: auto !important; }
  [data-section="experience"] .subheaderSticky { position: relative !important; top: auto !important; }
  [data-section="experience"] .stageHolder,
  [data-section="experience"] .stack {
    position: static !important;
    height: auto !important;
    width: 100% !important;
    transform: none !important;            /* avoid off-canvas when expanded */
    overflow: visible !important;
  }

  /* ============ TESTIMONIALS (#testimonials) ============ */
  /* Keep desktop text formatting — only move the image block under the text */
  /* Do NOT change typography/spacing classes; just reorder immediate children */
  #testimonials [class*="card"] {
    display: grid !important;
    grid-template-columns: 1fr !important;
    align-items: start !important;
    gap: .75rem !important;
  }
  /* Place any direct child that contains an <img> UNDER the text/details */
  #testimonials [class*="card"] > *:has(img) { order: 2 !important; }
  #testimonials [class*="card"] > :not(:has(img)) { order: 1 !important; }
  #testimonials img { width: 100%; height: auto; display: block; }

  /* ============ SAFETY (mobile only) ============ */
  html, body { overflow-x: hidden; } /* no sideways nudge */
}










