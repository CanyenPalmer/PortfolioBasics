/* Mobile-only fixes (≤768px). Desktop/laptop remain untouched. */
@media (max-width: 768px) {

  /* =========================
     HERO (#home)
     - Keep desktop look, just stack and put image last
     - Avoid overlap into next section
  ========================== */
  #home { position: relative; z-index: 0; padding-top: 3.5rem; padding-bottom: 1rem; }
  #home > nav {
    position: static !important; inset: auto !important; width: 100% !important;
    margin: 0 0 .75rem 0 !important; text-align: center; z-index: 1 !important;
  }
  #home nav ul { flex-wrap: wrap; justify-content: center; row-gap: .5rem; column-gap: .75rem; }

  /* Force single column; text first, media last */
  #home .container .grid {
    display: grid !important; grid-template-columns: 1fr !important;
    gap: 1rem !important; align-items: start !important;
  }
  /* Your text wrapper uses .space-y-5 — keep it first */
  #home .container .grid > .space-y-5 { order: 1 !important; }
  /* Put any sibling that contains an image/figure last (avatar/media) */
  #home .container .grid > figure,
  #home .container .grid > :has(img) { order: 2 !important; }

  /* Stack inline rows (CTAs, etc.) to avoid crowding */
  #home .space-y-5 [class*="flex"] { flex-direction: column !important; gap: .75rem !important; }
  #home a.inline-flex, #home a[role="button"], #home .btn, #home button { width: 100%; min-height: 44px; justify-content: center; }

  /* =========================
     EXPERIENCE ([data-section="experience"])
     - Remove duplicate deck
     - Stack cards once, full width
     - Expanded details fully visible
  ========================== */
  /* Show flowing deck; hide locked/fixed deck to prevent duplicates */
  [data-section="experience"] [class*="stageFlow"]  { display: block !important; opacity: 1 !important; visibility: visible !important; }
  [data-section="experience"] [class*="stageFixed"] { display: none !important; }

  /* Kill large lock window height and sticky bars that can trap scroll */
  [data-section="experience"] [class*="lockWindow"] { height: auto !important; }
  [data-section="experience"] [class*="subheaderSticky"] { position: relative !important; top: auto !important; }

  /* Neutralize stage/stack geometry so content flows normally */
  [data-section="experience"] [class*="stageHolder"],
  [data-section="experience"] [class*="stack"] {
    position: static !important; height: auto !important; width: 100% !important; transform: none !important; overflow: visible !important;
  }

  /* Cards: normal flow, stacked, readable; stop side slide-in transforms */
  [data-section="experience"] [class*="card"] {
    position: static !important; inset: auto !important; display: block !important;
    width: 100% !important; max-width: none !important; margin: 0 0 1rem 0 !important;
    transform: none !important; opacity: 1 !important; transition: none !important;
    overflow: visible !important; background: rgba(13,19,29,0.98) !important; backdrop-filter: none !important; z-index: 0 !important;
  }

  /* If expanded content uses absolute layers, make them participate in layout */
  [data-section="experience"] [class*="card"] [style*="position: absolute"] { position: static !important; }

  /* Expanded bodies should never clip on phones */
  [data-section="experience"] [class*="card"] *[class*="details"],
  [data-section="experience"] [class*="card"] *[class*="content"],
  [data-section="experience"] [class*="card"] *[class*="body"],
  [data-section="experience"] [class*="card"] *[class*="inner"],
  [data-section="experience"] [class*="card"] *[style*="max-height"] {
    max-height: none !important; overflow: visible !important; height: auto !important;
  }

  /* Metrics grid inside cards → one column on phones */
  [data-section="experience"] [class*="metricsGrid"] { grid-template-columns: 1fr !important; }

  /* =========================
     TESTIMONIALS (#testimonials)
     - Show details first, image directly underneath (like desktop order)
  ========================== */
  /* Top-level testimonial pair wrapper on mobile should invert order */
  #testimonials .flex.flex-col.gap-8,
  #testimonials .flex.flex-col.md\:items-center.gap-8,
  #testimonials .flex.flex-col.gap-8.md\:gap-12 {
    flex-direction: column-reverse !important;
  }

  /* Alternatively, enforce image-under-text by child ordering within each card */
  #testimonials [class*="card"] { display: grid !important; grid-template-columns: 1fr !important; align-items: start !important; gap: .75rem !important; }
  #testimonials [class*="card"] > *:has(img) { order: 2 !important; }
  #testimonials [class*="card"] > :not(:has(img)) { order: 1 !important; }
  #testimonials img { width: 100%; height: auto; display: block; }

  /* =========================
     SAFETY (mobile only)
  ========================== */
  html, body { overflow-x: hidden; }
}









