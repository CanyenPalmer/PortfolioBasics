/* Mobile-only fixes (≤768px). Desktop/laptop remain untouched. */
@media (max-width: 768px) {

  /* =========================================================
   * HERO (id="home")
   * Keep desktop styling, only stack and push the image LAST.
   * Prevent any decorative layers from overlapping sections.
   * ======================================================= */
  #home { padding-top: 3.5rem; padding-bottom: 1.25rem; position: relative; z-index: 0; }
  #home .container { position: relative; z-index: 1; }

  /* Force a clean single column; text first, media last */
  #home .container .grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    align-items: start !important;
  }
  #home .container .grid > .space-y-5 { order: 1 !important; }
  #home .container .grid > :not(.space-y-5) { order: 2 !important; }

  /* Any inline flex rows (CTAs etc.) stack vertically */
  #home .space-y-5 [class*="flex"] { flex-direction: column !important; gap: .75rem !important; }
  #home a.inline-flex, #home a[role="button"], #home .btn, #home button { width: 100%; min-height: 44px; justify-content: center; }

  /* Deactivate glitch/overlay layers so nothing sits over the next section */
  #home .nav-vhs, #home [class*="nav-vhs"] { display: none !important; }
  #home [class*="absolute"][class*="z-20"] { pointer-events: none !important; } /* decorative layers only */

  /* =========================================================
   * EXPERIENCE (data-section="experience")
   * - Remove duplication (show flowing deck only)
   * - Stack cards once, full width
   * - Expanded content fully visible
   * - Avoid sticky/fixed that can trap scroll
   * ======================================================= */

  /* Stop the giant lock window from creating long fixed scenes */
  [data-section="experience"] [class*="lockWindow"] { height: auto !important; }

  /* Always show FLOWING deck; hide LOCKED deck (prevents duplicates) */
  [data-section="experience"] [class*="stageFlow"]  { display: block !important; opacity: 1 !important; visibility: visible !important; }
  [data-section="experience"] [class*="stageFixed"] { display: none !important; }

  /* Neutralize deck geometry so content just flows */
  [data-section="experience"] [class*="stageHolder"],
  [data-section="experience"] [class*="stack"] {
    position: static !important;
    height: auto !important;
    width: 100% !important;
    transform: none !important;
    overflow: visible !important;
  }

  /* Subheader/progress bar: do NOT stick/fix on phones (prevents scroll traps) */
  [data-section="experience"] [class*="subheaderSticky"] { position: relative !important; top: auto !important; }

  /* Cards: one pass, stacked, readable; keep inner animations if any */
  [data-section="experience"] [class*="card"] {
    position: relative !important;
    inset: auto !important;
    width: 100% !important;
    max-width: none !important;
    margin: 0 0 1rem 0 !important;
    transform: none !important;       /* stops side slide-in */
    opacity: 1 !important;
    transition: none !important;
    overflow: visible !important;      /* show expanded content */
    background: rgba(13,19,29,0.98) !important; /* no see-through */
    backdrop-filter: none !important;
    z-index: 0 !important;
  }

  /* Ensure expanded bodies never clip (some content may be masked by max-heights) */
  [data-section="experience"] [class*="card"] *[class*="details"],
  [data-section="experience"] [class*="card"] *[class*="content"],
  [data-section="experience"] [class*="card"] *[class*="body"],
  [data-section="experience"] [class*="card"] *[class*="inner"],
  [data-section="experience"] [class*="card"] *[style*="max-height"] {
    max-height: none !important;
    overflow: visible !important;
  }

  /* Metrics grid inside cards → one column */
  [data-section="experience"] [class*="metricsGrid"] { grid-template-columns: 1fr !important; }

  /* =========================================================
   * TESTIMONIALS (id="testimonials")
   * Match desktop details ordering; put image directly BELOW the details.
   * Keep it simple and scoped to testimonials only.
   * ======================================================= */
  #testimonials { overflow: visible !important; position: relative; z-index: 0; }

  /* Make each testimonial card a simple one-column stack */
  #testimonials [class*="card"] { display: grid !important; grid-template-columns: 1fr !important; align-items: start !important; gap: .75rem !important; }

  /* Put blocks that contain an <img> BELOW the details */
  #testimonials [class*="card"] > *:has(img) { order: 2 !important; }
  #testimonials [class*="card"] > :not(:has(img)) { order: 1 !important; }

  /* Images scale cleanly under the copy */
  #testimonials img { width: 100%; height: auto; display: block; }

  /* Prevent any sticky/fixed inside testimonials from trapping scroll */
  #testimonials [style*="position: sticky"], 
  #testimonials [style*="position: fixed"] { position: static !important; top: auto !important; }
}







