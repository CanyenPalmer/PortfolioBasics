/* ================================================
   MOBILE-ONLY FIXES (‚â§768px). Desktop untouched.
   Targets your repo‚Äôs actual structure/classes.
================================================ */
@media (max-width: 768px) {

  /* --- Global safety --- */
  html, body { overflow-x: hidden; }
  img, video, canvas { max-width: 100%; height: auto; display: block; }

  /* If the boot overlay / boot visibility gets stuck on phones, show content */
  html.mach-booting body > *:not(#boot-overlay) { visibility: visible !important; }
  #boot-overlay { display: none !important; }

  /* =================================
     HERO (#home): show content, stack
  ================================== */
  /* Your hero section is flex-centered/overflow-hidden; on phones that can hide content */
  #home {
    overflow: visible !important;
    min-height: auto !important;
    align-items: flex-start !important;
    padding-top: 4.5rem !important;
    padding-bottom: 1rem !important;
  }

  /* Toolbar: single row, horizontal swipe */
  #home > nav {
    position: static !important;
    width: 100% !important;
    margin: 0 0 .75rem 0 !important;
    z-index: 1 !important;
  }
  #home nav ul {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;       /* one line */
    overflow-x: auto !important;         /* sideways scroll */
    overflow-y: hidden !important;
    -webkit-overflow-scrolling: touch !important;
    white-space: nowrap !important;
    gap: .75rem !important;
    padding: .25rem .5rem !important;
  }
  #home nav li { flex: 0 0 auto !important; }

  /* Stack hero: text first, image last */
  #home .container .grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    align-items: start !important;
  }
  #home .container .grid > .space-y-5 { order: 1 !important; }          /* text/details */
  #home .container .grid > .justify-self-center,
  #home .container .grid > figure     { order: 2 !important; }           /* avatar/media */

  /* Reveal any hero children hidden by motion/initial states */
  #home .container .grid > * {
    opacity: 1 !important;
    visibility: visible !important;
    transform: none !important;
    filter: none !important;
    display: block !important;
    pointer-events: auto !important;
  }

  /* The ‚Äúscroll to explore‚Äù prompt is absolutely positioned at bottom; make it inline so it won‚Äôt cover/hide things on short viewports */
  #home > div[class*="absolute"][class*="bottom-"] {
    position: static !important;
    margin-top: .5rem !important;
  }

  /* ================================
     ABOUT (#about): make visible
  ================================= */
  #about .grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 1rem !important;
    align-items: start !important;
  }
  #about [aria-label="About images"] {
    opacity: 1 !important;
    transform: none !important;
    height: auto !important;
    overflow: visible !important;
  }
  #about [aria-label="About images"] .absolute { inset: 0 !important; }

  /* ===============================================================
     EXPERIENCE ([data-section="experience"])
     Works now but ‚ÄúLead Analyst‚Äù can‚Äôt scroll in full view on mobile.
     ‚Üí Make the expanded details area an inner scroll region on phones.
  ================================================================ */
  /* Normalize geometry so cards are simple blocks in flow */
  [data-section="experience"] .lockWindow       { height: auto !important; }
  [data-section="experience"] .subheaderSticky  { position: relative !important; top: auto !important; }
  [data-section="experience"] .stageHolder,
  [data-section="experience"] .stageFlow,
  [data-section="experience"] .stack {
    position: static !important;
    height: auto !important;
    width: 100% !important;
    transform: none !important;
    overflow: visible !important;
  }

  /* Cards: keep visuals, but prevent transforms that push content off-screen */
  [data-section="experience"] .card,
  [data-section="experience"] .cardCollapsed,
  [data-section="experience"] .cardFocused,
  [data-section="experience"] .cardExpanded {
    position: relative !important;
    inset: auto !important;
    width: 100% !important;
    max-width: none !important;
    margin: 0 0 1rem 0 !important;
    transform: none !important;
    opacity: 1 !important;
    overflow: visible !important;
  }

  /* üîë The details wrapper in ExperienceCard is the <motion.div class="mt-5">.
       Make it scrollable inside the card on phones so full content is readable. */
  [data-section="experience"] .card .mt-5 {
    max-height: calc(100vh - 140px) !important;  /* fits phone viewport */
    overflow: auto !important;
    -webkit-overflow-scrolling: touch !important;
    overscroll-behavior: contain !important;
    padding-top: 6px !important;                 /* avoid browser UI trim */
    padding-bottom: 8px !important;
  }

  /* (Optional) if your metrics grid exists, keep it single-column on phones */
  [data-section="experience"] .metricsGrid { grid-template-columns: 1fr !important; }

  /* ==========================================================
     TESTIMONIALS (#testimonials)
     They became one giant column ‚Äî restore per-item sections:
     details first, image directly underneath. Avoid :has().
  =========================================================== */
  /* Each pair (SinglePair) uses md:flex-row or md:flex-row-reverse on desktop.
     On phones, make them column sections with consistent child order. */
  #testimonials [class*="md:flex-row"] {
    display: flex !important;
    flex-direction: column !important;
    align-items: stretch !important;
    gap: .9rem !important;
    margin-bottom: 1.25rem !important;
  }

  /* If desktop order is [image, details] (md:flex-row), flip to details first on mobile */
  #testimonials [class*="md:flex-row"] > :first-child { order: 2 !important; }  /* image block */
  #testimonials [class*="md:flex-row"] > :last-child  { order: 1 !important; }  /* details block */

  /* If desktop alternates with md:flex-row-reverse (i.e., [details, image]), keep that order */
  #testimonials [class*="md:flex-row-reverse"] > :first-child { order: 1 !important; } /* details */
  #testimonials [class*="md:flex-row-reverse"] > :last-child  { order: 2 !important; } /* image */

  /* Make testimonial images full-width under the details */
  #testimonials img { width: 100% !important; height: auto !important; display: block !important; }
}



















